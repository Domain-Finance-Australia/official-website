---
import { Image } from "astro:assets";
import { BASE_API_URL } from "../utils/url";

interface Props {
  src?: string | null;
  alt: string | null;
  width: number;
  height: number;
  class?: string;
  fill?: boolean;
}
const { src, alt, width, height, class: className, fill } = Astro.props;

let imageSrc = src ? src : "/images/fallback.png";

if (imageSrc.startsWith("/")) {
  imageSrc = BASE_API_URL + src;
}
---

<Image
  src={imageSrc}
  alt={alt ?? "Image"}
  width={width}
  height={height}
  class={className}
  style={!fill && `width: ${width}px; height: ${height}px;`}
/>
